<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Rincard Prestatot ‚Äî Cartes Pr√©pay√©es</title>

<!-- Favicon SVG inline (appara√Æt dans l'onglet) -->
<link rel="icon" type="image/svg+xml" href="data:image/svg+xml,
  <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'>
    <defs>
      <linearGradient id='fg' x1='0' y1='0' x2='1' y2='1'>
        <stop offset='0' stop-color='%238a2be2'/>
        <stop offset='1' stop-color='%235d1a99'/>
      </linearGradient>
    </defs>
    <rect width='100' height='100' rx='18' fill='url(%23fg)'/>
    <text x='50%' y='55%' font-size='44' text-anchor='middle' fill='white' font-family='Inter, Arial' font-weight='700'>RP</text>
  </svg>">

<style>
:root{
  --brand:#8a2be2; --brand-dark:#5d1a99; --muted:#cfc3e9;
  --bg1: linear-gradient(135deg,#efe8ff,#dcc9ff);
  --card-bg:#ffffff; --card-contrast: rgba(13,10,32,0.04);
  --glass: rgba(255,255,255,0.85); --danger:#b91c1c;
}
*{box-sizing:border-box}
body{
  margin:0; font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background:var(--bg1); color:#0b0b12; -webkit-font-smoothing:antialiased; line-height:1.45;
}
header{
  display:flex; align-items:center; justify-content:space-between;
  padding:12px 16px; gap:12px;
  background:linear-gradient(90deg,var(--brand),var(--brand-dark));
  color:#fff; position:sticky; top:0; z-index:60;
  box-shadow:0 4px 18px rgba(13,10,32,0.12);
}
.header-left{ display:flex; align-items:center; gap:12px; }
.brand-badge{
  display:flex; align-items:center; gap:10px; cursor:default;
}
.logo-wrap{ width:44px; height:44px; display:flex; align-items:center; justify-content:center; border-radius:9px; background:linear-gradient(135deg,#9f5afc,#6b21a8); box-shadow:0 6px 18px rgba(0,0,0,0.12); animation:logoPulse 3s infinite; }
@keyframes logoPulse{ 0%{ transform:scale(1) } 50%{ transform:scale(1.05) } 100%{ transform:scale(1) } }
.brand-title{ font-weight:800; font-size:16px; letter-spacing:0.2px; }
.nav-actions{ display:flex; gap:8px; align-items:center; }
.btn-ghost{
  background:transparent; border:1px solid rgba(255,255,255,0.18);
  color:#fff; padding:8px 10px; border-radius:8px; cursor:pointer; font-weight:600;
}
.lang-select{
  background:transparent; color:#fff; border:1px solid rgba(255,255,255,0.12);
  padding:6px 8px; border-radius:8px; font-weight:700; cursor:pointer;
}

/* Layout */
main{ max-width:1100px; margin:20px auto; padding:0 16px 40px; }
.page{ display:none; padding-bottom:20px; }
.page-header{ display:flex; justify-content:space-between; align-items:center; gap:12px; margin:8px 0 18px; }
.search{ padding:10px 12px; border-radius:10px; border:1px solid rgba(11,17,30,0.06); width:100%; max-width:360px; }

/* Grid & cards */
.grid{
  display:grid; grid-template-columns: repeat(auto-fit,minmax(260px,1fr)); gap:18px; margin-bottom:20px;
}
.card{
  background: linear-gradient(180deg, var(--card-bg), #fbfbff); border-radius:14px; overflow:hidden;
  display:flex; flex-direction:column; min-height:240px; box-shadow: 0 6px 18px var(--card-contrast);
  border:1px solid rgba(13,10,32,0.04); transition:transform .14s ease, box-shadow .14s ease;
}
.card:hover{ transform:translateY(-6px); box-shadow:0 20px 50px rgba(13,10,32,0.12); }
.card-top{ padding:14px 16px; display:flex; justify-content:space-between; align-items:flex-start; gap:12px; }
.chip{ width:56px; height:36px; border-radius:8px; background:linear-gradient(180deg,#ffd66b,#ffb84d); display:flex; align-items:center; justify-content:center; font-weight:800; color:#3b2a00; font-size:12px; box-shadow: inset 0 -3px 8px rgba(0,0,0,0.06); }
.card-visual{ height:130px; display:flex; align-items:center; justify-content:center; background-size:cover; background-position:center; }
.card-body{ padding:12px 16px 16px 16px; display:flex; flex-direction:column; gap:8px; margin-top:auto; }
.card-title{ font-size:16px; color:var(--brand-dark); font-weight:700; margin:0; }
.card-sub{ font-size:13px; color:var(--muted); margin:0; }
.price{ font-size:18px; font-weight:800; color:#0b1220; }

/* Form */
.card-form{ background:var(--card-bg); border-radius:12px; padding:18px; box-shadow:0 10px 30px rgba(13,10,32,0.06); max-width:720px; margin:0 auto; }
label{ display:block; font-weight:700; margin-top:10px; color:#0b1220; font-size:13px; }
input, select, textarea{ width:100%; padding:10px 12px; margin-top:8px; border-radius:8px; border:1px solid #e6e9ef; font-size:14px; }
textarea{ min-height:120px; resize:vertical; }
.send{ margin-top:14px; width:100%; padding:12px; border-radius:10px; background:linear-gradient(90deg,var(--brand),var(--brand-dark)); color:#fff; border:none; font-weight:800; cursor:pointer; }

/* Crypto */
.address-box{ background:#f7f3ff; border:1px dashed rgba(93,26,153,0.12); padding:10px; border-radius:8px; margin-top:8px; font-weight:700; color:var(--brand-dark); display:flex; justify-content:space-between; align-items:center; gap:8px; }
.address-copy{ background:var(--brand); color:#fff; padding:6px 8px; border-radius:8px; cursor:pointer; font-weight:700; border:none; }
.warning{ color:var(--danger); font-weight:700; font-size:13px; margin-top:6px; }

/* Video */
.video-block{ display:none; margin-top:12px; border-radius:10px; overflow:hidden; }

/* Footer */
footer{ margin-top:28px; padding:18px; text-align:center; font-size:13px; color:#4b4b57; border-top:1px solid rgba(11,17,30,0.04); background:transparent; }

/* Responsive */
@media (max-width:640px){
  header{ padding:10px 12px; }
  .brand-title{ font-size:15px; }
  .card-visual{ height:110px; }
}
</style>
</head>
<body>

<header>
  <div class="header-left">
    <div class="brand-badge" aria-hidden="false">
      <div class="logo-wrap" aria-hidden="true">
        <!-- simple animated RP logo SVG -->
        <svg width="28" height="28" viewBox="0 0 160 160" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Logo Rincard Prestatot">
          <defs>
            <linearGradient id="lg" x1="0" x2="1"><stop offset="0" stop-color="#9f5afc"/><stop offset="1" stop-color="#6b21a8"/></linearGradient>
          </defs>
          <rect x="8" y="8" width="144" height="144" rx="26" fill="url(#lg)"/>
          <text x="50%" y="58%" text-anchor="middle" font-family="Inter, Arial" font-weight="800" font-size="64" fill="white">RP</text>
        </svg>
      </div>
      <div class="brand-title">Rincard Prestatot</div>
    </div>
  </div>

  <div class="nav-actions" role="navigation" aria-label="Main navigation">
    <button class="btn-ghost" data-nav="home" data-i18n="Accueil">Accueil</button>
    <button class="btn-ghost" data-nav="others" data-i18n="Steam & Crypto & Apple">Steam & Crypto & Apple</button>
   
    <button id="menuToggle" class="btn-ghost" data-nav="pay" data-i18n="Paiement">Paiement</button>
   
    <select id="langSelect" class="lang-select" aria-label="Choisir la langue">
      <option value="fr">FR</option>
      <option value="en">EN</option>
      <option value="es">ES</option>
      <option value="de">DE</option>
      <option value="it">IT</option>
      <option value="pt">PT</option>
    </select>
  </div>
</header>

<main>
  <!-- HOME -->
  <section id="page-home" class="page" aria-labelledby="homeTitle">
    <div class="page-header">
      <h2 id="homeTitle" data-i18n="Cartes pr√©pay√©es">Cartes pr√©pay√©es</h2>
      <input id="searchHome" class="search" placeholder="Rechercher une carte (ex: Visa, Mastercard)" aria-label="Recherche cartes" />
    </div>
    <div id="gridHome" class="grid" aria-live="polite"></div>
  </section>

  <!-- OTHERS -->
  <section id="page-others" class="page" aria-labelledby="othersTitle">
    <div class="page-header">
      <h2 id="othersTitle" data-i18n="Cartes Steam & Apple">Cartes Steam & Apple</h2>
      <input id="searchOthers" class="search" placeholder="Rechercher Steam / Apple..." aria-label="Recherche Steam Apple" />
    </div>
    <div id="gridOthers" class="grid" aria-live="polite"></div>
  </section>

  <!-- PAYMENT -->
  <section id="page-pay" class="page" aria-labelledby="payTitle">
    <div style="max-width:900px;margin:0 auto;">
      <h2 id="payTitle" data-i18n="Page de paiement">Page de paiement</h2>
      <p style="color:var(--muted); margin-top:6px;" data-i18n="Confirmez votre paiement manuellement. Le bouton Envoyer preuve ouvrira votre messagerie pour envoyer la preuve √† prestatot@outlook.fr.">
        Confirmez votre paiement manuellement. Le bouton <strong>Envoyer preuve</strong> ouvrira votre messagerie pour envoyer la preuve √† <strong>prestatot@outlook.fr</strong>.
      </p>

      <div class="card-form" role="form" aria-labelledby="payTitle">
        <label for="productField" data-i18n="Produit">Produit</label>
        <input id="productField" readonly />

        <label for="methodField" data-i18n="Mode de paiement">Mode de paiement</label>
        <select id="methodField" aria-controls="cryptoBlock">
  <option value="Transcash">Transcash (paiement physique en point de vente)</option>
  <option value="Crypto">Crypto (envoyer via wallet)</option>
  <option value="Neosurf">Neosurf (ticket pr√©pay√© √† code unique)</option>
  <option value="PCS">PCS (carte pr√©pay√©e en magasin)</option>
</select>

        <!-- video appears for Transcash -->
        <div class="video-block" id="transcashVideo">
          <video controls width="100%" style="border-radius:10px;">
            <!-- Replace with your personal video file (example name) -->
            <source src="Vid√©o1.MOV" type="video/MOV">
            Votre navigateur ne supporte pas la vid√©o.
          </video>
        </div>

        <div id="cryptoBlock" style="display:none;">
          <label for="cryptoSelect" data-i18n="Choisir la crypto">Choisir la crypto</label>
          <select id="cryptoSelect">
            <option value="BTC">BTC</option>
            <option value="ETH">ETH</option>
            <option value="BNB">BNB</option>
            <option value="SOL">SOL</option>
            <option value="TRX">TRX</option>
          </select>

          <div class="address-box" id="addressBox" style="display:none;">
            <div id="addressText" style="word-break:break-all"></div>
            <button class="address-copy" id="copyAddressBtn">Copier</button>
          </div>
<!-- AVERTISSEMENT NEOSURF -->
<div class="warning" id="neosurfNotice" style="display:none; margin-top:10px;">
  üí≥ Paiement Neosurf : achetez un ticket Neosurf (en bureau de tabac ou en ligne) puis indiquez le code complet dans la zone ¬´ Infos ¬ª ci-dessous.
</div>

<!-- AVERTISSEMENT PCS -->
<div class="warning" id="pcsNotice" style="display:none; margin-top:10px;">
  üí≥ Paiement PCS : achetez une carte PCS en point de vente, grattez pour r√©v√©ler le code et indiquez-le dans ¬´ Infos ¬ª.
</div>


          <div id="cryptoWarning" class="warning" style="display:none;"></div>
        </div>

        <label for="emailField" data-i18n="Email (o√π recevoir la carte)">Email (o√π recevoir la carte)</label>
        <input id="emailField" type="email" placeholder="ex: toi@mail.com" />

        <label for="amountField" data-i18n="Montant pay√© (‚Ç¨)">Montant pay√© (‚Ç¨)</label>
        <input id="amountField" inputmode="decimal" placeholder="ex: 250" />

        <label for="infoField" data-i18n="Infos (ticket / TX hash / point de vente)">Infos (ticket / TX hash / point de vente)</label>
        <textarea id="infoField" placeholder="Ticket n¬∞, point de vente, TX hash..."></textarea>

        <button class="send" id="sendProofBtn" data-i18n="Envoyer preuve">Envoyer preuve</button>
      </div>
    </div>
  </section>
</main>

<footer>
  <p>&copy; 2025 Rincard Prestatot.</p>
  <p style="max-width:900px; margin:6px auto 0;">
    <strong>Conditions d'utilisation :</strong> En utilisant ce site vous acceptez que toutes les transactions soient trait√©es manuellement. Rincard Prestitot n'est pas un √©tablissement bancaire et n'ex√©cute aucune op√©ration de paiement automatis√©e. Les informations fournies serviront uniquement au traitement des commandes.
  </p>
  <p style="max-width:900px; margin:6px auto 0;">
    <strong>Politique de confidentialit√© :</strong> Nous respectons votre vie priv√©e. Aucune donn√©e sensible (num√©ro de carte bancaire, mots de passe) n'est collect√©e ou stock√©e ici. Les preuves de paiement envoy√©es par mail sont utilis√©es uniquement pour valider et traiter votre commande.
  </p>
  <p style="max-width:900px; margin:6px auto 6px;">
    <strong>Contact :</strong> Pour toute question : <a href="mailto:yescard2025@outlook.fr">prestatot@outlook.fr</a>
  </p>
</footer>

<script>
/* ================= DATA ================= */
const products = [
  { id:'c1', title:'Classic Visa ‚Äì 250‚Ç¨', type:'prepaid', price:250, desc:'Plafond 2.000‚Ç¨, Retrait 500‚Ç¨/j, Validit√© 45 jours' },
  { id:'c2', title:'Mastercard 500‚Ç¨', type:'prepaid', price:500, desc:'Plafond 11.000‚Ç¨, Retrait 500‚Ç¨/j, Validit√© 60 jours' },
  { id:'c3', title:'Gold Mastercard 700‚Ç¨', type:'prepaid', price:700, desc:'Plafond 20.000‚Ç¨, Retrait 1.000‚Ç¨/j, Validit√© 60 jours' },
  { id:'c4', title:'Infinity Visa 1000‚Ç¨', type:'prepaid', price:1000, desc:'Plafond 45.000‚Ç¨, Retrait 1.000‚Ç¨/j, Validit√© 90 jours' },
  { id:'s1', title:'Carte Steam 20‚Ç¨', type:'steam', price:20, desc:'Code Steam Wallet 20‚Ç¨' },
  { id:'s2', title:'Carte Steam 50‚Ç¨', type:'steam', price:50, desc:'Code Steam Wallet 50‚Ç¨' },
  { id:'a1', title:'Carte Apple 15‚Ç¨', type:'apple', price:15, desc:'Code Apple 15‚Ç¨' },
  { id:'a2', title:'Carte Apple 50‚Ç¨', type:'apple', price:50, desc:'Code Apple 50‚Ç¨' }
];

const cryptoAddresses = {
  BTC: 'bc1qsyn0jp2nzmp2kx65kscnttmhvruq5v2hl0jwra',
  ETH: '0xd4Fbc12bA94496eB13D968e575C9f03380bE4F48',
  BNB: '0xd4Fbc12bA94496eB13D968e575C9f03380bE4F48',
  SOL: '3FVzZ3W2HZ7PaHN9EoWMeA5Pm4A94GyG7R6QWpYiUGRb',
  TRX: 'TKHvwB5vDXAUJwYDZ8SJeYifZZX33fP6PA'
};

const cryptoNotes = {
  BTC: '‚ö†Ô∏è Envoyer uniquement en BTC (r√©seau Bitcoin). Tout envoi sur un autre r√©seau sera irr√©cup√©rable.',
  ETH: '‚ö†Ô∏è Envoyer uniquement en ETH (r√©seau Ethereum). Tout envoi sur un autre r√©seau sera irr√©cup√©rable.',
  BNB: '‚ö†Ô∏è Envoyer uniquement en BNB. V√©rifiez le r√©seau (BEP20/BSC) si applicable.',
  SOL: '‚ö†Ô∏è Envoyer uniquement en SOL (r√©seau Solana). Tout envoi sur un autre r√©seau sera irr√©cup√©rable.',
  TRX: '‚ö†Ô∏è Envoyer uniquement en TRX (r√©seau TRC20). Tout envoi sur un autre r√©seau sera irr√©cup√©rable.'
};

/* ============== Logo HTML (inline per card) ============== */
function getInventedLogoHTML(p){
  const palette = {
    prepaid:{bg1:'#f0f7ff',bg2:'#e6f0ff',mark:'#2b6cff',accent:'#8a2be2'},
    steam:{bg1:'#f0fbff',bg2:'#e8f7ff',mark:'#0b1b2b',accent:'#08a0ff'},
    apple:{bg1:'#fff6fb',bg2:'#fff0f5',mark:'#111827',accent:'#ff6fa3'},
    default:{bg1:'#fff',bg2:'#f4f0ff',mark:'#6b21a8',accent:'#e879f9'}
  };
  const c = palette[p.type]||palette.default;
  return `
    <div class="card-visual" aria-hidden="false" style="background:linear-gradient(135deg,${c.bg1},${c.bg2});">
      <svg width="220" height="110" viewBox="0 0 160 90" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Logo">
        <defs>
          <linearGradient id="g1" x1="0" x2="1"><stop offset="0" stop-color="${c.mark}"/><stop offset="1" stop-color="${c.accent}"/></linearGradient>
          <filter id="s" x="-20%" y="-20%" width="140%" height="140%"><feDropShadow dx="0" dy="4" stdDeviation="6" flood-color="#000" flood-opacity="0.12"/></filter>
        </defs>
        <rect x="10" y="10" rx="12" width="140" height="70" fill="url(#g1)" opacity="0.12"></rect>
        <g transform="translate(30,22)" filter="url(#s)">
          <path d="M6 44 L6 6 C6 5 7 4 9 4 L26 4 C34 4 38 11 38 20 C38 29 34 34 26 34 L20 34" fill="none" stroke="url(#g1)" stroke-width="6" stroke-linecap="round" stroke-linejoin="round"/>
        </g>
        <g transform="translate(62,20)">
          <path d="M4 44 L4 6 L18 6 C26 6 30 12 30 19 C30 26 26 32 18 32 L6 32" fill="none" stroke="url(#g1)" stroke-width="6" stroke-linecap="round" stroke-linejoin="round"/>
        </g>
        <g transform="translate(120,20)" fill="${c.accent}" opacity="0.95">
          <polygon points="6,0 8,6 14,8 8,10 6,16 4,10 -2,8 4,6" transform="scale(0.9)"/>
        </g>
        <text x="26" y="74" font-family="Inter, Arial, Helvetica, sans-serif" font-size="10" fill="#2b2b33" opacity="0.9">Rincard Prestitot</text>
      </svg>
    </div>`;
}

/* ============== Render grid ============== */
function renderGrid(selector, filterFn){
  const container = document.getElementById(selector);
  container.innerHTML = '';
  const list = products.filter(filterFn);
  list.forEach(p=>{
    const div = document.createElement('article');
    div.className = 'card';
    const chipLabel = p.title.includes('Visa')? 'VISA' : p.title.includes('Mastercard')?'MC': p.type.toUpperCase();
    div.innerHTML = `
      <div class="card-top"><div class="chip">${chipLabel}</div></div>
      ${ getInventedLogoHTML(p) }
      <div class="card-body">
        <h3 class="card-title">${p.title}</h3>
        <p class="card-sub">${p.desc || ''}</p>
        <div style="display:flex;justify-content:space-between;align-items:center;">
          <div class="price">${p.price}‚Ç¨</div>
          <button class="choose" data-product="${p.title}" aria-label="Choisir ${p.title}">Choisir</button>
        </div>
      </div>`;
    container.appendChild(div);
  });
  container.querySelectorAll('.choose').forEach(btn=>{
    btn.addEventListener('click', e=>{
      goToPayment(e.currentTarget.dataset.product);
    });
  });
}

/* ============== Routing & nav ============== */
function showPage(id){
  document.querySelectorAll('.page').forEach(p=>p.style.display='none');
  const map = { home:'page-home', others:'page-others', pay:'page-pay' };
  const el = document.getElementById(map[id]||'page-home');
  if(el) el.style.display='block';
  window.location.hash = id;
}
document.querySelectorAll('[data-nav]').forEach(btn=>{
  btn.addEventListener('click', ()=> showPage(btn.dataset.nav) );
});
document.getElementById('menuToggle').addEventListener('click', ()=> showPage('pay'));

/* ============== Search handlers ============== */
document.getElementById('searchHome').addEventListener('input', e=>{
  const q = e.target.value.trim().toLowerCase();
  renderGrid('gridHome', p=> p.type==='prepaid' && (p.title.toLowerCase().includes(q) || p.desc.toLowerCase().includes(q)));
});
document.getElementById('searchOthers').addEventListener('input', e=>{
  const q = e.target.value.trim().toLowerCase();
  renderGrid('gridOthers', p=> (p.type==='steam' || p.type==='apple') && (p.title.toLowerCase().includes(q) || p.desc.toLowerCase().includes(q)));
});

/* ============== Payment flow (video + crypto) ============== */
function goToPayment(productName){
  document.getElementById('productField').value = productName;
  document.getElementById('emailField').value = '';
  document.getElementById('amountField').value = '';
  document.getElementById('infoField').value = '';
  document.getElementById('methodField').value = 'Transcash';
  document.getElementById('cryptoBlock').style.display = 'none';
  document.getElementById('addressBox').style.display = 'none';
  document.getElementById('cryptoWarning').style.display = 'none';
  // hide video until method change
  document.getElementById('transcashVideo').style.display = 'none';
  showPage('pay');
  document.querySelector('.card-form').scrollIntoView({behavior:'smooth'

});
}

document.getElementById('methodField').addEventListener('change', ()=>{
  const val = document.getElementById('methodField').value;
  const isCrypto = val === 'Crypto';
  document.getElementById('cryptoBlock').style.display = isCrypto ? 'block' : 'none';
  document.getElementById('transcashVideo').style.display = val === 'Transcash' ? 'block' : 'none';
  if(isCrypto) updateCryptoUI();

  document.getElementById('neosurfNotice').style.display = val === 'Neosurf' ? 'block' : 'none';
  document.getElementById('pcsNotice').style.display = val === 'PCS' ? 'block' : 'none';

});

document.getElementById('cryptoSelect').addEventListener('change', updateCryptoUI);
function updateCryptoUI(){
  const coin = document.getElementById('cryptoSelect').value;
  document.getElementById('addressText').textContent = cryptoAddresses[coin];
  document.getElementById('addressBox').style.display = 'flex';
  document.getElementById('cryptoWarning').style.display = 'block';
  document.getElementById('cryptoWarning').textContent = cryptoNotes[coin] || '';
}

/* copy address */
document.getElementById('copyAddressBtn').addEventListener('click', ()=>{
  const text = document.getElementById('addressText').textContent;
  navigator.clipboard?.writeText(text).then(()=> alert('Adresse copi√©e dans le presse-papier ‚úÖ'))
    .catch(()=> prompt('Copiez l‚Äôadresse (CTRL+C):', text));
});

/* send proof via mailto */
document.getElementById('sendProofBtn').addEventListener('click', ()=>{
  const to = 'prestatot@outlook.fr';
  const product = document.getElementById('productField').value || '[produit]';
  const method = document.getElementById('methodField').value || '[mode]';
  const crypto = document.getElementById('cryptoSelect').value || '';
  const email = document.getElementById('emailField').value || '[email client]';
  const amount = document.getElementById('amountField').value || '[montant]';
  const info = document.getElementById('infoField').value || '[informations]';
  let body = `Bonjour Rincard Prestitot,%0A%0AJ'ai effectu√© le paiement. Voici les informations :%0A%0A`+
             `‚Ä¢ Produit command√© : ${product}%0A`+
             `‚Ä¢ Montant pay√© : ${amount}%0A`+
             `‚Ä¢ Mode de paiement : ${method}` + (method==='Crypto' ? ` - ${crypto}%0A‚Ä¢ Adresse envoy√©e : ${cryptoAddresses[crypto]}` : `%0A`) +
             `‚Ä¢ Email pour recevoir la carte : ${email}%0A`+
             `‚Ä¢ Informations suppl√©mentaires : ${info}%0A%0A`+
             `Veuillez trouver la preuve de paiement en pi√®ce jointe.%0A%0AMerci,%0A[Nom du client]`;
  const subject = `Paiement - ${product} - ${method}${method==='Crypto'? ' '+crypto : ''}`;
  window.location.href = `mailto:${to}?subject=${encodeURIComponent(subject)}&body=${body}`;
});

/* ============== Translations (6 languages) ============== */
const translations = {
  fr: {
    "Accueil":"Accueil","Steam & Apple":"Steam & Apple","Paiement":"Paiement",
    "Cartes pr√©pay√©es":"Cartes pr√©pay√©es","Cartes Steam & Apple":"Cartes Steam & Apple","Page de paiement":"Page de paiement",
    "Confirmez votre paiement manuellement. Le bouton Envoyer preuve ouvrira votre messagerie pour envoyer la preuve √† prestatot@outlook.fr.":"Confirmez votre paiement manuellement. Le bouton <strong>Envoyer preuve</strong> ouvrira votre messagerie pour envoyer la preuve √† <strong>prestatot@outlook.fr</strong>.",
    "Produit":"Produit","Mode de paiement":"Mode de paiement","Choisir la crypto":"Choisir la crypto",
    "Email (o√π recevoir la carte)":"Email (o√π recevoir la carte)","Montant pay√© (‚Ç¨)":"Montant pay√© (‚Ç¨)","Infos (ticket / TX hash / point de vente)":"Infos (ticket / TX hash / point de vente)","Envoyer preuve":"Envoyer preuve",
    "Rechercher une carte (ex: Visa, Mastercard)":"Rechercher une carte (ex: Visa, Mastercard)","Rechercher Steam / Apple...":"Rechercher Steam / Apple..."
  },
  en: {
    "Accueil":"Home","Steam & Apple":"Steam & Apple","Paiement":"Payment",
    "Cartes pr√©pay√©es":"Prepaid Cards","Cartes Steam & Apple":"Steam & Apple Cards","Page de paiement":"Payment Page",
    "Confirmez votre paiement manuellement. Le bouton Envoyer preuve ouvrira votre messagerie pour envoyer la preuve √† prestatot@outlook.fr.":"Confirm your payment manually. The 'Send Proof' button will open your email to send proof to prestatot@outlook.fr.",
    "Produit":"Product","Mode de paiement":"Payment Method","Choisir la crypto":"Select Crypto",
    "Email (o√π recevoir la carte)":"Email (where to receive the card)","Montant pay√© (‚Ç¨)":"Amount Paid (‚Ç¨)","Infos (ticket / TX hash / point de vente)":"Info (ticket / TX hash / store)","Envoyer preuve":"Send Proof",
    "Rechercher une carte (ex: Visa, Mastercard)":"Search a card (e.g. Visa, Mastercard)","Rechercher Steam / Apple...":"Search Steam / Apple..."
  },
  es: {
    "Accueil":"Inicio","Steam & Apple":"Steam & Apple","Paiement":"Pago",
    "Cartes pr√©pay√©es":"Tarjetas Prepago","Cartes Steam & Apple":"Tarjetas Steam y Apple","Page de paiement":"P√°gina de Pago",
    "Confirmez votre paiement manuellement. Le bouton Envoyer preuve ouvrira votre messagerie pour envoyer la preuve √† prestatot@outlook.fr.":"Confirma tu pago manualmente. El bot√≥n 'Enviar prueba' abrir√° tu correo para enviar la prueba a prestatot@outlook.fr.",
    "Produit":"Producto","Mode de paiement":"M√©todo de pago","Choisir la crypto":"Seleccionar Cripto",
    "Email (o√π recevoir la carte)":"Correo electr√≥nico (donde recibir la tarjeta)","Montant pay√© (‚Ç¨)":"Monto pagado (‚Ç¨)","Infos (ticket / TX hash / point de vente)":"Informaci√≥n (ticket / TX hash / tienda)","Envoyer preuve":"Enviar prueba",
    "Rechercher une carte (ex: Visa, Mastercard)":"Buscar una tarjeta (ej: Visa, Mastercard)","Rechercher Steam / Apple...":"Buscar Steam / Apple..."
  },
  de: {
    "Accueil":"Start","Steam & Apple":"Steam & Apple","Paiement":"Zahlung",
    "Cartes pr√©pay√©es":"Prepaid Karten","Cartes Steam & Apple":"Steam & Apple Karten","Page de paiement":"Zahlungsseite",
    "Confirmez votre paiement manuellement. Le bouton Envoyer preuve ouvrira votre messagerie pour envoyer la preuve √† prestatot@outlook.fr.":"Best√§tigen Sie Ihre Zahlung manuell. Die Schaltfl√§che 'Beweis senden' √∂ffnet Ihre E-Mail, um den Beweis an prestatot@outlook.fr zu senden.",
    "Produit":"Produkt","Mode de paiement":"Zahlungsmethode","Choisir la crypto":"Krypto ausw√§hlen",
    "Email (o√π recevoir la carte)":"E-Mail (wo die Karte empfangen wird)","Montant pay√© (‚Ç¨)":"Bezahlter Betrag (‚Ç¨)","Infos (ticket / TX hash / point de vente)":"Informationen (Ticket / TX-Hash / Gesch√§ft)","Envoyer preuve":"Beweis senden",
    "Rechercher une carte (ex: Visa, Mastercard)":"Karte suchen (z. B. Visa, Mastercard)","Rechercher Steam / Apple...":"Steam / Apple suchen..."
  },
  it: {
    "Accueil":"Home","Steam & Apple":"Steam & Apple","Paiement":"Pagamento",
    "Cartes pr√©pay√©es":"Carte Prepagate","Cartes Steam & Apple":"Carte Steam e Apple","Page de paiement":"Pagina di Pagamento",
    "Confirmez votre paiement manuellement. Le bouton Envoyer preuve ouvrira votre messagerie pour envoyer la preuve √† prestatot@outlook.fr.":"Conferma manualmente il tuo pagamento. Il pulsante 'Invia prova' aprir√† la tua email per inviare la prova a prestatot@outlook.fr.",
    "Produit":"Prodotto","Mode de paiement":"Metodo di pagamento","Choisir la crypto":"Seleziona Cripto",
    "Email (o√π recevoir la carte)":"Email (dove ricevere la carta)","Montant pay√© (‚Ç¨)":"Importo pagato (‚Ç¨)","Infos (ticket / TX hash / point de vente)":"Informazioni (ticket / TX hash / negozio)","Envoyer preuve":"Invia prova",
    "Rechercher une carte (ex: Visa, Mastercard)":"Cerca una carta (es: Visa, Mastercard)","Rechercher Steam / Apple...":"Cerca Steam / Apple..."
  },
  pt: {
    "Accueil":"In√≠cio","Steam & Apple":"Steam & Apple","Paiement":"Pagamento",
    "Cartes pr√©pay√©es":"Cart√µes Pr√©-pagos","Cartes Steam & Apple":"Cart√µes Steam e Apple","Page de paiement":"P√°gina de Pagamento",
    "Confirmez votre paiement manuellement. Le bouton Envoyer preuve ouvrira votre messagerie pour envoyer la preuve √† prestatot@outlook.fr.":"Confirme seu pagamento manualmente. O bot√£o 'Enviar prova' abrir√° seu e-mail para enviar a prova para prestatot@outlook.fr.",
    "Produit":"Produto","Mode de paiement":"M√©todo de pagamento","Choisir la crypto":"Selecionar Cripto",
    "Email (o√π recevoir la carte)":"Email (onde receber o cart√£o)","Montant pay√© (‚Ç¨)":"Valor Pago (‚Ç¨)","Infos (ticket / TX hash / point de vente)":"Informa√ß√µes (ticket / TX hash / loja)","Envoyer preuve":"Enviar prova",
    "Rechercher une carte (ex: Visa, Mastercard)":"Procurar um cart√£o (ex: Visa, Mastercard)","Rechercher Steam / Apple...":"Procurar Steam / Apple..."
  }
};

/* Apply translations to elements marked with data-i18n and placeholders */
function applyLanguage(code){
  // set html lang attr
  document.documentElement.lang = code;
  // store
  try{ localStorage.setItem('rincard_lang', code); }catch(e){}
  // translate static nodes
  document.querySelectorAll('[data-i18n]').forEach(el=>{
    const key = el.dataset.i18n;
    const txt = translations[code] && translations[code][key] ? translations[code][key] : (translations['fr'][key] || key);
    // If element contains HTML (like the paragraph), allow it:
    if(el.tagName.toLowerCase() === 'p') el.innerHTML = txt;
    else el.textContent = txt;
  });
  // translate placeholders
  const phMap = {
    'searchHome': translations[code]['Rechercher une carte (ex: Visa, Mastercard)'] || 'Search...',
    'searchOthers': translations[code]['Rechercher Steam / Apple...'] || 'Search...'
  };
  document.getElementById('searchHome').placeholder = phMap['searchHome'];
  document.getElementById('searchOthers').placeholder = phMap['searchOthers'];
}

/* Language selector init - prefer saved value */
const savedLang = (function(){ try{ return localStorage.getItem('rincard_lang') }catch(e){return null} })() || 'fr';
document.getElementById('langSelect').value = savedLang;
applyLanguage(savedLang);

document.getElementById('langSelect').addEventListener('change', e=>{
  applyLanguage(e.target.value);
});

/* ============== init UI ============== */
function renderAll(){ renderGrid('gridHome', p => p.type === 'prepaid'); renderGrid('gridOthers', p => p.type === 'steam' || p.type === 'apple'); }
renderAll();
(function(){ const hash = (location.hash || '#home').replace('#',''); showPage(hash); })();

</script>
</body>
</html>
